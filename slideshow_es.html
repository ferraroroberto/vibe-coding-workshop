<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taller de Ejercicios - Presentación</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            overflow: hidden;
            background: #000;
        }

        .slideshow-container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide.active {
            opacity: 1;
            z-index: 1;
        }

        /* Slide Type 1: Title Slide */
        .slide-title {
            background-color: rgba(0, 0, 0, 0.4);
        }

        .slide-title .content {
            text-align: center;
            color: white;
            padding: 2rem;
            background: rgba(0, 0, 0, 0.6);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            max-width: 90%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
        }

        .slide-title h1 {
            font-size: clamp(2rem, 5vw, 4rem);
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            line-height: 1.2;
        }

        .slide-title .exercise-number {
            font-size: clamp(1rem, 2vw, 1.5rem);
            color: #64b5f6;
            font-weight: 500;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Slide Type 2: Content Slide */
        .slide-content {
            background-color: rgba(0, 0, 0, 0.5);
        }

        .slide-content .content {
            background: rgba(0, 0, 0, 0.6);
            padding: clamp(1.5rem, 4vw, 3rem);
            border-radius: 12px;
            max-width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .slide-content h2 {
            font-size: clamp(1.5rem, 3vw, 2.5rem);
            color: white;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 0.5rem;
        }

        .slide-content h3 {
            font-size: clamp(1.2rem, 2.5vw, 1.8rem);
            color: #64b5f6;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }

        .slide-content p {
            font-size: clamp(1rem, 1.8vw, 1.3rem);
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.95);
            margin-bottom: 1rem;
        }

        .slide-content ul, .slide-content ol {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }

        .slide-content li {
            font-size: clamp(1rem, 1.8vw, 1.2rem);
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.95);
            margin-bottom: 0.5rem;
        }

        .slide-content strong {
            color: #64b5f6;
            font-weight: 600;
        }

        .slide-content code {
            background: rgba(255, 255, 255, 0.15);
            color: rgba(255, 255, 255, 0.95);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .slide-content hr {
            border: none;
            border-top: 2px solid rgba(255, 255, 255, 0.3);
            margin: 1.5rem 0;
        }

        .slide-content em {
            font-style: italic;
            color: rgba(255, 255, 255, 0.85);
        }

        /* Menu Slide - Image */
        .slide-menu-image {
            background-color: rgba(0, 0, 0, 0.4);
        }

        /* Menu Slide - Content */
        .slide-menu {
            background-color: rgba(0, 0, 0, 0.5);
        }

        .slide-menu .content {
            background: rgba(0, 0, 0, 0.6);
            padding: clamp(1.5rem, 3vw, 2.5rem);
            border-radius: 12px;
            max-width: 95%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
        }

        .menu-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0.75rem;
            margin-top: 1rem;
        }

        .menu-item {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
        }

        .menu-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .menu-item-text {
            font-size: clamp(0.85rem, 1.3vw, 1rem);
            font-weight: 500;
            line-height: 1.3;
        }

        .menu-item-text .menu-number {
            color: #64b5f6;
            text-transform: uppercase;
            font-weight: 600;
            margin-right: 0.5rem;
        }

        .menu-item-text .menu-title {
            color: white;
        }

        .menu-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .menu-action-button {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-size: clamp(0.9rem, 1.3vw, 1.1rem);
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .menu-action-button:hover {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.5);
            transform: scale(1.05);
        }

        /* Exercise Action Buttons */
        .exercise-actions {
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            gap: 0.5rem;
            flex-direction: column;
            z-index: 10;
        }

        .exercise-action-button {
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            white-space: nowrap;
        }

        .exercise-action-button:hover {
            background: rgba(0, 0, 0, 0.85);
            border-color: rgba(255, 255, 255, 0.5);
            transform: scale(1.05);
        }

        /* Navigation */
        .nav-button {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.9);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-button:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-50%) scale(1.1);
        }

        .nav-button.prev {
            left: 20px;
        }

        .nav-button.next {
            right: 20px;
        }

        .slide-counter {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            font-size: 1rem;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        /* Scrollbar styling */
        .slide-content .content::-webkit-scrollbar,
        .slide-menu .content::-webkit-scrollbar {
            width: 8px;
        }

        .slide-content .content::-webkit-scrollbar-track,
        .slide-menu .content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .slide-content .content::-webkit-scrollbar-thumb,
        .slide-menu .content::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
        }

        .slide-content .content::-webkit-scrollbar-thumb:hover,
        .slide-menu .content::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .nav-button {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }

            .nav-button.prev {
                left: 10px;
            }

            .nav-button.next {
                right: 10px;
            }

            .slide-content .content,
            .slide-menu .content {
                padding: 1.5rem;
            }

            .menu-grid {
                grid-template-columns: 1fr;
            }

            .exercise-actions {
                top: 0.5rem;
                right: 0.5rem;
            }

            .exercise-action-button {
                padding: 0.4rem 0.8rem;
                font-size: 0.75rem;
            }

            .menu-grid {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }

            .menu-item {
                padding: 0.6rem 0.8rem;
            }

            .menu-action-button {
                padding: 0.6rem 1.2rem;
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <div class="slideshow-container" id="slideshow">
        <!-- Slides will be dynamically generated here -->
    </div>

    <button class="nav-button prev" onclick="changeSlide(-1)">‹</button>
    <button class="nav-button next" onclick="changeSlide(1)">›</button>
    <div class="slide-counter" id="counter">1 / 1</div>

    <script>
        // Special slides (non-exercises)
        const specialSlides = [
            {
                type: 'welcome',
                image: 'assets/welcome.jpg',
                title: 'Welcome'
            },
            {
                type: 'team_agreement',
                image: 'assets/team_agreement.jpg',
                title: 'Team Agreement'
            },
            {
                type: 'menu',
                image: 'assets/menu.jpg',
                title: 'Exercise Menu'
            },
            {
                type: 'break_time',
                image: 'assets/break_time.jpg',
                title: 'Hora de Descanso'
            },
            {
                type: 'survey',
                image: 'assets/survey.jpg',
                title: 'Survey'
            },
            {
                type: 'congratulations',
                image: 'assets/congratulations.jpg',
                title: 'Congratulations'
            }
        ];

                                                // Exercise data - matches the sequence from exercises_selection.md
        const exercises = [
            {
                number: "Intro",
                title: "Intro: Hola Mundo - El Primer Vuelo",
                image: "assets/intro_python.jpg",
                content: `# Intro: Hola Mundo - El Primer Vuelo

## El escenario

Es tu primer día. Tienes instalados VS Code y Python, pero parece la cabina de un avión que no sabes pilotar. Necesitas demostrar a tu jefa (y a ti mismo) que tu configuración funciona.

## Tu misión

Verifica que tu "cabina" (VS Code + Python) esté completamente operativa. Escribirás tus primeras líneas de código para imprimir un mensaje en pantalla, realizar un cálculo de negocio y automatizar una tarea repetitiva usando un bucle.

1. **El Entorno:** Crea un nuevo archivo llamado \`hello.py\`.
2. **El Primer Prompt:** Usa Copilot para preguntar: "¿Cómo imprimo 'Hello World' en Python?". Ejecuta el código.
3. **La Calculadora:** Pide a Copilot: "Crea una variable para ingresos = 1000 y costos = 400. Calcula el beneficio e imprímelo."
4. **El Bucle:** Pide a Copilot: "Escribe un bucle que imprima los números del 1 al 5."

## Resultado esperado

Has imprimido "Hello World", calculado el beneficio e imprimido los números del 1 al 5 — tu configuración funciona.`
            },
            {
                number: "ETL 1",
                title: "Ejercicio: La Gran Fusión",
                image: "assets/etl_merger.jpg",
                content: `# Ejercicio: La Gran Fusión

## El escenario

Tu jefa te ha enviado por correo tres archivos Excel separados con datos de ventas trimestrales (Q1, Q2 y Q3). Necesita un único reporte "Acumulado del Año" antes del almuerzo. Copiar y pegar manualmente es lento y propenso a errores.

## Tu misión

Usa Python para automatizar esta tarea común de reportes: cargar los tres archivos, apilarlos en una tabla maestra, verificar el conteo de datos y exportar el resultado a un archivo CSV.

1. Cargar los tres archivos.
2. Apilarlos en una tabla maestra.
3. Verificar el conteo de datos.
4. Exportar el resultado a un archivo CSV.

## Resultado esperado

Un único archivo llamado \`combined_sales.csv\` que contenga todos los registros de los tres archivos trimestrales.`
            },
            {
                number: "ETL 2",
                title: "Ejercicio: ETL 2 - El Detective",
                image: "assets/etl_detective.jpg",
                content: `# Ejercicio: ETL 2 - El Detective

## El escenario

Eres analista de datos en *Global Widgets Inc.* Combinaste exitosamente los archivos de ventas en el proyecto anterior. Sin embargo, el equipo de Finanzas ha rechazado tu reporte. "Los números no cuadran", dijeron. "Vemos el mismo Order ID aparecer dos veces, y ¿por qué tenemos ventas negativas? ¿Estamos pagando a la gente para que se lleve nuestros productos?" Tu trabajo es actuar como detective: separar los datos buenos de los malos.

## Tu misión

1. **Cargar** el archivo \`combined_sales.csv\`.
2. **Encontrar y eliminar** \`Order_ID\` duplicados (falla en el sistema).
3. **Filtrar** los números negativos en la columna \`Revenue\` (reembolsos erróneos).
4. **Guardar** el conjunto de datos limpio como \`clean_sales_data.csv\`.

**(Opcional) Desafío Nivel 2:** Identificar transacciones de ingresos "Sospechosamente Altas" (valores atípicos) que son estadísticamente imposibles (3 desviaciones estándar de la media).

## Resultado esperado

Un archivo limpio \`clean_sales_data.csv\` sin Order IDs duplicados y sin ingresos negativos — listo para reportar.`
            },
            {
                number: "ETL 3",
                title: "Ejercicio: ETL 3 - La Encuesta Desordenada (El Factor Humano)",
                image: "assets/etl_survey.jpg",
                content: `# Ejercicio: ETL 3 - La Encuesta Desordenada (El Factor Humano)

## El escenario

Mientras finalizas los datos de ventas, RRHH te contacta. Tienen una "Encuesta de Satisfacción de Empleados" (~1000 filas) y quieren saber si los vendedores felices venden más. Pero sus datos son un desastre: **Datos Inconsistentes** (algunos escribieron "Male", otros "M", "m" o " F "), **Fechas Mezcladas** (fechas de ingreso en todos los formatos imaginables) y **Texto No Estructurado** (comentarios con correos o palabras clave de quejas).

## Tu misión

Limpiar este conjunto de datos para que eventualmente pueda unirse con tus datos de Ventas y usarse para análisis.

1. Estandarizar la columna \`Gender\` (Male/Female/Other).
2. Estandarizar \`Join_Date\` (objetos Datetime).
3. Añadir una nueva columna de bandera \`Compensation_Issue\` (True/False) basada en palabras clave.
4. (Opcional) Añadir una nueva columna \`extracted_email\` extraída de los comentarios usando Regex.

## Resultado esperado

Un DataFrame (y CSV) limpio con Gender y Join_Date estandarizados y las nuevas columnas — listo para unir con datos de Ventas.`
            },
            {
                number: "Viz 1",
                title: "Ejercicio: El Gráfico del Gerente",
                image: "assets/viz_managers_chart.jpg",
                content: `# Ejercicio: El Gráfico del Gerente

## El escenario

Tu \`clean_sales_data.csv\` está listo. Ahora la Gerente quiere una visual para la reunión de directorio. Específicamente quiere ver "Ingresos Totales por Categoría de Producto." Es exigente con colores y títulos — los gráficos crudos y sin formato no serán aceptados.

## Tu misión

Crear un gráfico de barras de nivel profesional que muestre **Ingresos Totales por Categoría de Producto** para la reunión de directorio. El gráfico debe comunicar efectivamente el rendimiento de ventas a la gerencia, con títulos claros y formato de moneda apropiado.

## Resultado esperado

Un gráfico de barras limpio y profesional mostrado (o guardado) que indique qué categorías de negocio generan más ingresos durante el año.`
            },
            {
                number: "Viz 2",
                title: "Ejercicio: El Generador de Reportes (Viz 2)",
                image: "assets/viz_report_generator.jpg",
                content: `# Ejercicio: El Generador de Reportes (Viz 2)

## El escenario

El gráfico está genial, pero la Gerente también quiere los números crudos en Excel para trabajar. Pide *un* archivo Excel que contenga un resumen ejecutivo y los datos de respaldo completos — el tipo de entregable que une tu análisis y el reporte corporativo.

## Tu misión

Tomar los datos de ventas limpios y generar un único archivo Excel profesional (\`final_report.xlsx\`) con dos pestañas:

1. **"Resumen Ejecutivo"**: Una tabla de alto nivel que muestre Ingresos Totales por Categoría.
2. **"Datos de Respaldo"**: El conjunto de datos completo y detallado para fines de auditoría.

Usar la biblioteca \`pandas\` de Python como puente entre los datos crudos y el reporte corporativo final.

## Resultado esperado

Un archivo \`final_report.xlsx\` con dos hojas: Resumen Ejecutivo y Datos de Respaldo — listo para compartir con la gerencia.`
            },
            {
                number: "Auto 1",
                title: "Ejercicio: El Pulido Profesional (\"El Puente\")",
                image: "assets/auto_excel_polish.jpg",
                content: `# Ejercicio: El Pulido Profesional ("El Puente")

## El escenario

Enviaste \`final_report.xlsx\` a tu jefa. Dice: *"¿Puedes poner los encabezados en negrita y azul? Y las columnas son muy estrechas, no puedo leer los nombres de los productos."* No quieres hacer esto manualmente cada trimestre.

## Tu misión

Escribir un script en Python que tome los datos crudos (o el archivo Excel existente) y aplique el formato profesional automáticamente:

1. **Encabezados Profesionales:** Texto en negrita con un fondo azul elegante.
2. **Columnas Legibles:** Todas las columnas deben ajustarse automáticamente al tamaño del contenido.
3. **Destacados:** Cualquier ingreso superior a $10,000 debe resaltarse en verde.

## Resultado esperado

Un nuevo archivo Excel llamado \`polished_report.xlsx\` perfectamente formateado — encabezados en negrita y azul, columnas legibles, ingresos altos resaltados en verde.`
            },
            {
                number: "Auto 2",
                title: "Ejercicio: El Organizador Automático de Archivos",
                image: "assets/auto_file_organizer.jpg",
                content: `# Ejercicio: El Organizador Automático de Archivos

## El escenario

Tu carpeta "Descargas" y el espacio de trabajo del proyecto se han convertido en un caos de archivos. Hay CSVs mezclados con PDFs, reportes de Excel y archivos de texto aleatorios. Es hora de ordenar antes de terminar la jornada.

## Tu misión

Escribir un script en Python que organice automáticamente estos archivos en subcarpetas ordenadas según su tipo (ej.: todos los \`.csv\` van a una carpeta \`Data\`, los \`.pdf\` a \`Docs\`).

Cuando ejecutes tu script, los archivos en la carpeta \`data\` deben moverse a:

* **Spreadsheets/** (para \`.xlsx\`, \`.csv\`)
* **Documents/** (para \`.pdf\`, \`.txt\`, \`.docx\`)
* **Images/** (para \`.png\`, \`.jpg\`)
* **Others/** (para todo lo demás)

## Resultado esperado

Los archivos en el espacio de trabajo quedan ordenados en las carpetas anteriores — sin más caos.`
            },
            {
                number: "Bonus",
                title: "Ejercicio: La Prueba de Estrés de Big Data",
                image: "assets/etl_bonus_big_data.jpg",
                content: `# Ejercicio: La Prueba de Estrés de Big Data

## El escenario

Avancemos dos años. Tu empresa ha crecido y los "Datos de Ventas" ya no son solo 3 archivos simples — son gigabytes de logs del servidor. Los scripts tradicionales intentan cargar todo en RAM de una vez y se cuelgan. Los CSV son lentos; los logs en texto ocupan demasiado espacio.

## Tu misión

Procesar estos conjuntos de datos grandes simulados sin que tu computadora se cuelgue. Pasar de herramientas que consumen mucha memoria (como Pandas) a un motor de procesamiento "Out-of-Core" que maneja datos más grandes que tu RAM.

1. Experimentar por qué el "método antiguo" falla.
2. Usar una nueva herramienta (**DuckDB**) para consultar datos *sin* cargarlos todos primero.
3. Convertir CSVs voluminosos al eficiente formato **Parquet**.

## Resultado esperado

Has ejecutado consultas sobre datos grandes con DuckDB y exportado (o convertido) datos a Parquet — sin quedarte sin memoria.`
            },
        ];

        // Bonus-only exercises (separate menu); main menu shows all of `exercises` including "The Big Data Stress Test"
        const mainExercises = exercises;
                const bonusExercises = [
            {
                number: "Bonus",
                title: "Bonus: Reporte PDF Automático (El Entregable Ejecutivo)",
                image: "assets/bonus_auto_pdf_report.jpg",
                content: `# Bonus: Reporte PDF Automático (El Entregable Ejecutivo)

## El escenario
La CFO no usa Excel. No abre archivos HTML. Quiere un **PDF** — limpio, con marca, con gráficos y tablas incrustados — que pueda imprimir, anotar y enviar al directorio. Cada trimestre has estado capturando manualmente gráficos, pegándolos en Word y exportando a PDF. Ya no más.

## Tu misión
Construir un script en Python que genere automáticamente un reporte PDF de múltiples páginas: una **portada** con título y marca, una **sección de resumen KPI**, **gráficos de barras y circular incrustados** (Ingresos por Categoría), una **tabla de datos formateada** (top 10 transacciones) y **pies de página** con números de página.

## Resultado esperado
Un \`quarterly_report.pdf\` pulido que se ve diseñado profesionalmente — pero generado completamente por Python en segundos. Ejecútalo una vez y funcionará cada trimestre con datos frescos.`
            },
            {
                number: "Bonus",
                title: "Bonus: Pipeline ETL API (De la Web al Almacén)",
                image: "assets/bonus_etl_api_pipeline.jpg",
                content: `# Bonus: Pipeline ETL API (De la Web al Almacén)

## El escenario
Tu empresa ha adoptado un nuevo sistema CRM que expone datos de clientes y pedidos vía una API REST (formato JSON). La gerencia quiere un único reporte Excel plano que combine perfiles de clientes con su historial de pedidos — pero la API devuelve JSON profundamente anidado con campos inconsistentes.

## Tu misión
Construir un pipeline ETL en Python que: **lea** JSON paginado (simulando respuestas de API), **aplane** estructuras anidadas en DataFrames limpios, **una** datos de clientes con pedidos, **maneje** valores faltantes e inconsistencias de tipo, y **exporte** el conjunto de datos consolidado a CSV y Excel.

## Resultado esperado
Un \`customer_orders_consolidated.csv\` limpio con una fila por pedido enriquecida con detalles del cliente, más un \`pipeline_report.xlsx\` con hojas "Orders Detail" y "Customer Summary".`
            },
            {
                number: "Bonus",
                title: "Bonus: Gráfico de Barras D3 (La Carrera de Barras Animada)",
                image: "assets/bonus_viz_d3_bar_chart.jpg",
                content: `# Bonus: Gráfico de Barras D3 (La Carrera de Barras Animada)

## El escenario
El Director de Marketing vio una "carrera de barras" animada en redes sociales mostrando rankings de marcas en el tiempo y dijo: *"Quiero uno de esos para nuestros datos de ventas."* Los gráficos estáticos no pueden mostrar cómo cambian los rankings de productos mes a mes. Necesitas un gráfico que **se mueva**.

## Tu misión
Usando Python para preparar los datos y generar un archivo HTML con **D3.js** incrustado, construye un gráfico de barras interactivo y animado que muestre los **top 10 productos por ingresos** en cada mes, **anime** a través del tiempo (las barras crecen, se encogen, se reordenan), tenga **transiciones suaves** e incluya un botón **play/pausa** con indicador de mes.

## Resultado esperado
Un archivo autónomo \`bar_chart_race.html\` que abres en el navegador y presionas "Play" para ver los rankings animarse a través de 12 meses de datos — construido con los datos reales de tu empresa.`
            },
            {
                number: "Bonus",
                title: "Bonus: Red de Fuerzas D3 (El Mapa de Relaciones)",
                image: "assets/bonus_viz_d3_force_network.jpg",
                content: `# Bonus: Red de Fuerzas D3 (El Mapa de Relaciones)

## El escenario
El VP de Alianzas quiere entender cómo se conectan departamentos, productos y clientes. ¿Quién compra qué? ¿Qué departamentos comparten los mismos clientes principales? ¿Qué productos se compran frecuentemente juntos? Las hojas de cálculo no pueden mostrar relaciones — necesitas un **grafo de red**.

## Tu misión
Usando Python para preparar los datos y **D3.js** en el navegador, construye un grafo de red interactivo dirigido por fuerzas: **nodos** para departamentos, productos y clientes; **aristas** para relaciones de compra; **color del nodo** por tipo de entidad; **tamaño del nodo** por ingresos; **arrastrar** para explorar clusters; **tooltips** al pasar el cursor.

## Resultado esperado
Un archivo autónomo \`relationship_network.html\` que se abre en el navegador y muestra una red basada en física que se auto-organiza en clusters. Arrastra nodos, pasa el cursor para detalles, haz zoom — y revela patrones ocultos como qué clientes son centrales para el negocio.`
            },
            {
                number: "Bonus",
                title: "Bonus: Mapa de Calor Geo (La Vista Global)",
                image: "assets/bonus_viz_geo_heatmap.jpg",
                content: `# Bonus: Mapa de Calor Geo (La Vista Global)

## El escenario
La VP de Ventas Internacionales quiere ver *de dónde* viene el dinero — no en una tabla, sino en un mapa real. Quiere abrir un único archivo y ver al instante los puntos calientes de actividad de ventas en todo el mundo, con la posibilidad de hacer clic en ciudades para ver detalles.

## Tu misión
Construir una visualización geográfica interactiva usando **Folium** (o Leaflet/Plotly): una **capa de mapa de calor** que muestre la intensidad de ventas por ciudad, **marcadores circulares** dimensionados por ingresos con detalles en popup, un **control de capas** para alternar vistas, y una **leyenda** o superposición de título.

## Resultado esperado
Un archivo autónomo \`sales_heatmap.html\` que se abre en cualquier navegador mostrando un mapa mundial interactivo con datos de ventas superpuestos. Al hacer clic en una ciudad se revelan ingresos totales, número de pedidos y producto principal — el tipo de entregable que se proyecta en una sala de directorio.`
            },
            {
                number: "Bonus",
                title: "Bonus: Dashboard Interactivo (El Factor Wow)",
                image: "assets/bonus_viz_interactive_dashboard.jpg",
                content: `# Bonus: Dashboard Interactivo (El Factor Wow)

## El escenario
A la CEO le encantaron tus gráficos estáticos, pero ahora quiere algo con lo que pueda *interactuar* — filtrar por región, pasar el cursor sobre puntos de datos y compartir con el directorio mediante un enlace simple. Los PNG estáticos ya no bastan.

## Tu misión
Construir un dashboard HTML interactivo y llamativo usando **Plotly** (o Streamlit/Dash): una **fila de resumen KPI** (Ingresos Totales, Pedidos, Valor Promedio de Pedido), un **gráfico sunburst** (Ingresos por Región → Categoría → Producto), un **gráfico de líneas de series temporales** filtrable por región, y un **gráfico de barras de top 10 productos** con tooltips al pasar el cursor.

## Resultado esperado
Un único archivo autónomo \`dashboard.html\` que se abre en cualquier navegador — sin servidor requerido. Debe verse pulido, profesional e interactivo. Es el tipo de entregable que hace que la gente diga *"¿Hiciste esto con Python?!"*`
            },
            {
                number: "Bonus",
                title: "Bonus: Dispersión Seaborn (El Scatter Ejecutivo)",
                image: "assets/bonus_viz_seaborn_scatter.jpg",
                content: `# Bonus: Dispersión Seaborn (El Scatter Ejecutivo)

## El escenario
La Jefa de Estrategia quiere ver la *relación* entre el tamaño del trato y la cantidad vendida — pero desglosada por categoría de producto y región simultáneamente. Un simple gráfico de barras no basta; necesita un gráfico donde cada punto de datos cuente una historia: la posición muestra la economía del trato, el color la categoría, el tamaño el volumen.

## Tu misión
Construir un gráfico de dispersión de calidad publicable usando **Seaborn** que codifique cuatro dimensiones: **eje X** (Precio Unitario), **eje Y** (Ingresos), **Color** (Categoría de Producto), **Tamaño** (Cantidad vendida — burbujas más grandes = mayor volumen). Incluir título claro, etiquetas de ejes con formato de moneda, leyenda y un tema profesional. Opcional: líneas de tendencia de regresión por categoría.

## Resultado esperado
Un \`executive_scatter.png\` pulido que parezca pertenecer a un artículo de Harvard Business Review — con codificación clara, leyenda y sin gris por defecto.`
            },
            {
                number: "Bonus",
                title: "Bonus: Seaborn Estadístico (El Dashboard Estadístico)",
                image: "assets/bonus_viz_seaborn_statistical.jpg",
                content: `# Bonus: Seaborn Estadístico (El Dashboard Estadístico)

## El escenario
El equipo de Data Science presenta en la reunión trimestral de toda la empresa. Necesitan una única imagen — un **dashboard estadístico de múltiples paneles** — que cuente la historia completa del rendimiento y satisfacción de empleados de un vistazo. Cada panel debe mostrar una perspectiva estadística diferente usando el mejor tipo de gráfico para esa forma de datos.

## Tu misión
Construir una figura pulida de múltiples paneles usando **Seaborn**: un **mapa de calor de correlación** (relaciones entre ingresos, satisfacción, experiencia), un **gráfico de violín** (satisfacción por departamentos), un **pair plot** (matriz de dispersión coloreada por departamento) y un **combo box + strip** (ingresos por antigüedad con puntos superpuestos).

## Resultado esperado
Imágenes PNG de calidad publicable: \`correlation_heatmap.png\`, \`satisfaction_violins.png\`, \`metrics_pairplot.png\`, \`revenue_by_seniority.png\`. Estos son el tipo de gráficos que hacen que un equipo de datos se vea de clase mundial.`
            },
        ];

        let currentSlide = 0;
        let menuImageSlideIndex = 0;
        let menuContentSlideIndex = 0;
        let bonusMenuImageSlideIndex = 0;
        let bonusMenuContentSlideIndex = 0;
        let breakTimeSlideIndex = 0;
        let surveySlideIndex = 0;
        let exerciseStartIndex = 0;
        let exerciseEndIndex = 0;
        let bonusExerciseStartIndex = 0;
        let bonusExerciseEndIndex = 0;
        const slideshow = document.getElementById('slideshow');
        const counter = document.getElementById('counter');

        // Track slide indices for exercises
        const exerciseSlideIndices = [];

        // Convert markdown-like content to HTML
        function markdownToHtml(text) {
            const lines = text.split('\n');
            let result = [];
            let inList = false;
            
            for (let i = 0; i < lines.length; i++) {
                let line = lines[i].trim();
                
                // Skip empty lines
                if (!line) {
                    if (inList) {
                        result.push('</ul>');
                        inList = false;
                    }
                    continue;
                }
                
                // Process headers
                if (line.startsWith('### ')) {
                    if (inList) {
                        result.push('</ul>');
                        inList = false;
                    }
                    result.push('<h3>' + processInlineMarkdown(line.substring(4)) + '</h3>');
                } else if (line.startsWith('## ')) {
                    if (inList) {
                        result.push('</ul>');
                        inList = false;
                    }
                    result.push('<h3>' + processInlineMarkdown(line.substring(3)) + '</h3>');
                } else if (line.startsWith('# ')) {
                    if (inList) {
                        result.push('</ul>');
                        inList = false;
                    }
                    result.push('<h2>' + processInlineMarkdown(line.substring(2)) + '</h2>');
                }
                // Process list items
                else if (/^[\d*\-]\.?\s+/.test(line)) {
                    if (!inList) {
                        result.push('<ul>');
                        inList = true;
                    }
                    const listContent = line.replace(/^[\d*\-]\.?\s+/, '');
                    result.push('<li>' + processInlineMarkdown(listContent) + '</li>');
                }
                // Process horizontal rules
                else if (line === '---') {
                    if (inList) {
                        result.push('</ul>');
                        inList = false;
                    }
                    result.push('<hr>');
                }
                // Process regular paragraphs
                else {
                    if (inList) {
                        result.push('</ul>');
                        inList = false;
                    }
                    result.push('<p>' + processInlineMarkdown(line) + '</p>');
                }
            }
            
            if (inList) {
                result.push('</ul>');
            }
            
            return result.join('\n');
        }
        
        function processInlineMarkdown(text) {
            return text
                .replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.+?)\*/g, '<em>$1</em>')
                .replace(/`(.+?)`/g, '<code>$1</code>');
        }

        // Generate slides
        function generateSlides() {
            let slideIndex = 0;

            // 1. Welcome slide (no title, just image)
            const welcomeSlide = document.createElement('div');
            welcomeSlide.className = 'slide slide-title';
            welcomeSlide.style.backgroundImage = `url('${specialSlides[0].image}')`;
            slideshow.appendChild(welcomeSlide);
            slideIndex++;

            // 2. Team Agreement slide (no title, just image)
            const teamSlide = document.createElement('div');
            teamSlide.className = 'slide slide-title';
            teamSlide.style.backgroundImage = `url('${specialSlides[1].image}')`;
            slideshow.appendChild(teamSlide);
            slideIndex++;

            // 3. Menu slide - Image
            menuImageSlideIndex = slideIndex;
            const menuImageSlide = document.createElement('div');
            menuImageSlide.className = 'slide slide-menu-image';
            menuImageSlide.style.backgroundImage = `url('${specialSlides[2].image}')`;
            slideshow.appendChild(menuImageSlide);
            slideIndex++;

            // 4. Menu slide - Content
            menuContentSlideIndex = slideIndex;
            const menuSlide = document.createElement('div');
            menuSlide.className = 'slide slide-menu';
            menuSlide.style.backgroundImage = `url('${specialSlides[2].image}')`;
            
            let menuItemsHTML = '<div class="menu-grid">';
            mainExercises.forEach((exercise, index) => {
                menuItemsHTML += `
                    <div class="menu-item" onclick="goToExercise(${index})">
                        <div class="menu-item-text">
                            <span class="menu-number">${exercise.number}</span>
                            <span class="menu-title">- ${exercise.title}</span>
                        </div>
                    </div>
                `;
            });
            menuItemsHTML += '</div>';
            
            menuSlide.innerHTML = `
                <div class="content">
                    ${menuItemsHTML}
                    <div class="menu-actions">
                        <button class="menu-action-button" onclick="goToBonusMenu()">Ejercicios Bonus</button>
                        <button class="menu-action-button" onclick="goToBreakTime()">Hora de Descanso</button>
                        <button class="menu-action-button" onclick="goToSurvey()">Finalizar Sesión</button>
                    </div>
                </div>
            `;
            slideshow.appendChild(menuSlide);
            slideIndex++;

            // 4. Generate main exercise slides (title + content for each)
            exerciseStartIndex = slideIndex;
            mainExercises.forEach((exercise, index) => {
                const titleSlide = document.createElement('div');
                titleSlide.className = 'slide slide-title';
                titleSlide.style.backgroundImage = `url('${exercise.image}')`;
                titleSlide.innerHTML = `
                    <div class="content">
                        <div class="exercise-number">${exercise.number}</div>
                        <h1>${exercise.title}</h1>
                    </div>
                `;
                slideshow.appendChild(titleSlide);
                exerciseSlideIndices.push(slideIndex);
                slideIndex++;

                const contentSlide = document.createElement('div');
                contentSlide.className = 'slide slide-content';
                contentSlide.style.backgroundImage = `url('${exercise.image}')`;
                contentSlide.innerHTML = `
                    <div class="exercise-actions">
                        <button class="exercise-action-button" onclick="goToMenu()">← Menú</button>
                        <button class="exercise-action-button" onclick="goToBreakTime()">Hora de Descanso</button>
                        <button class="exercise-action-button" onclick="goToSurvey()">Finalizar Sesión</button>
                    </div>
                    <div class="content">
                        ${markdownToHtml(exercise.content)}
                    </div>
                `;
                slideshow.appendChild(contentSlide);
                exerciseSlideIndices.push(slideIndex);
                slideIndex++;
            });
            exerciseEndIndex = slideIndex - 1;

            // 5. Bonus menu - Image
            bonusMenuImageSlideIndex = slideIndex;
            const bonusMenuImageSlide = document.createElement('div');
            bonusMenuImageSlide.className = 'slide slide-menu-image';
            bonusMenuImageSlide.style.backgroundImage = `url('assets/menu_bonus.jpg')`;
            slideshow.appendChild(bonusMenuImageSlide);
            slideIndex++;

            // 6. Bonus menu - Content
            bonusMenuContentSlideIndex = slideIndex;
            const bonusMenuSlide = document.createElement('div');
            bonusMenuSlide.className = 'slide slide-menu';
            bonusMenuSlide.style.backgroundImage = `url('assets/menu_bonus.jpg')`;
            let bonusMenuItemsHTML = '<h2 style="color: white; margin-bottom: 1rem;">Ejercicios Bonus</h2><div class="menu-grid">';
            bonusExercises.forEach((exercise, index) => {
                bonusMenuItemsHTML += `
                    <div class="menu-item" onclick="goToBonusExercise(${index})">
                        <div class="menu-item-text">
                            <span class="menu-number">${exercise.number}</span>
                            <span class="menu-title">- ${exercise.title}</span>
                        </div>
                    </div>
                `;
            });
            bonusMenuItemsHTML += '</div>';
            bonusMenuSlide.innerHTML = `
                <div class="content">
                    ${bonusMenuItemsHTML}
                    <div class="menu-actions">
                        <button class="menu-action-button" onclick="goToMenu()">← Volver al Menú</button>
                        <button class="menu-action-button" onclick="goToBreakTime()">Hora de Descanso</button>
                        <button class="menu-action-button" onclick="goToSurvey()">Finalizar Sesión</button>
                    </div>
                </div>
            `;
            slideshow.appendChild(bonusMenuSlide);
            slideIndex++;

            // 7. Bonus exercise slides (title + content for each)
            bonusExerciseStartIndex = slideIndex;
            bonusExercises.forEach((exercise, index) => {
                const titleSlide = document.createElement('div');
                titleSlide.className = 'slide slide-title';
                titleSlide.style.backgroundImage = `url('${exercise.image}')`;
                titleSlide.innerHTML = `
                    <div class="content">
                        <div class="exercise-number">${exercise.number}</div>
                        <h1>${exercise.title}</h1>
                    </div>
                `;
                slideshow.appendChild(titleSlide);
                slideIndex++;

                const contentSlide = document.createElement('div');
                contentSlide.className = 'slide slide-content';
                contentSlide.style.backgroundImage = `url('${exercise.image}')`;
                contentSlide.innerHTML = `
                    <div class="exercise-actions">
                        <button class="exercise-action-button" onclick="goToBonusMenu()">← Menú Bonus</button>
                        <button class="exercise-action-button" onclick="goToMenu()">← Menú Principal</button>
                        <button class="exercise-action-button" onclick="goToBreakTime()">Hora de Descanso</button>
                        <button class="exercise-action-button" onclick="goToSurvey()">Finalizar Sesión</button>
                    </div>
                    <div class="content">
                        ${markdownToHtml(exercise.content)}
                    </div>
                `;
                slideshow.appendChild(contentSlide);
                slideIndex++;
            });
            bonusExerciseEndIndex = slideIndex - 1;

            // 8. Hora de Descanso slide (no title, just image)
            breakTimeSlideIndex = slideIndex;
            const breakSlide = document.createElement('div');
            breakSlide.className = 'slide slide-title';
            breakSlide.style.backgroundImage = `url('${specialSlides[3].image}')`;
            breakSlide.innerHTML = `
                <div class="exercise-actions" style="position: absolute; top: 1rem; right: 1rem;">
                    <button class="exercise-action-button" onclick="goToBonusMenu()">← Volver al Bonus</button>
                    <button class="exercise-action-button" onclick="goToMenu()">← Volver al Menú</button>
                </div>
            `;
            slideshow.appendChild(breakSlide);
            slideIndex++;

            // 9. Survey slide (no title, just image)
            surveySlideIndex = slideIndex;
            const surveySlide = document.createElement('div');
            surveySlide.className = 'slide slide-title';
            surveySlide.style.backgroundImage = `url('${specialSlides[4].image}')`;
            slideshow.appendChild(surveySlide);
            slideIndex++;

            // 10. Congratulations slide (no title, just image)
            const congratsSlide = document.createElement('div');
            congratsSlide.className = 'slide slide-title';
            congratsSlide.style.backgroundImage = `url('${specialSlides[5].image}')`;
            slideshow.appendChild(congratsSlide);
            slideIndex++;

            // Initialize first slide
            const slides = slideshow.querySelectorAll('.slide');
            if (slides.length > 0) {
                slides[0].classList.add('active');
            }
            updateCounter();
        }

        function goToExercise(exerciseIndex) {
            const slides = slideshow.querySelectorAll('.slide');
            const targetSlideIndex = exerciseStartIndex + (exerciseIndex * 2);
            
            slides[currentSlide].classList.remove('active');
            currentSlide = targetSlideIndex;
            slides[currentSlide].classList.add('active');
            updateCounter();
        }

        function goToMenu() {
            const slides = slideshow.querySelectorAll('.slide');
            slides[currentSlide].classList.remove('active');
            currentSlide = menuContentSlideIndex;
            slides[currentSlide].classList.add('active');
            updateCounter();
        }

        function goToBonusMenu() {
            const slides = slideshow.querySelectorAll('.slide');
            slides[currentSlide].classList.remove('active');
            currentSlide = bonusMenuContentSlideIndex;
            slides[currentSlide].classList.add('active');
            updateCounter();
        }

        function goToBonusExercise(bonusIndex) {
            const slides = slideshow.querySelectorAll('.slide');
            const targetSlideIndex = bonusExerciseStartIndex + (bonusIndex * 2);
            slides[currentSlide].classList.remove('active');
            currentSlide = targetSlideIndex;
            slides[currentSlide].classList.add('active');
            updateCounter();
        }

        function goToBreakTime() {
            const slides = slideshow.querySelectorAll('.slide');
            slides[currentSlide].classList.remove('active');
            currentSlide = breakTimeSlideIndex;
            slides[currentSlide].classList.add('active');
            updateCounter();
        }

        function goToSurvey() {
            const slides = slideshow.querySelectorAll('.slide');
            slides[currentSlide].classList.remove('active');
            currentSlide = surveySlideIndex;
            slides[currentSlide].classList.add('active');
            updateCounter();
        }

        function changeSlide(direction) {
            const slides = slideshow.querySelectorAll('.slide');
            slides[currentSlide].classList.remove('active');
            
            currentSlide += direction;
            
            if (currentSlide < 0) {
                currentSlide = slides.length - 1;
            } else if (currentSlide >= slides.length) {
                currentSlide = 0;
            }
            
            slides[currentSlide].classList.add('active');
            updateCounter();
        }

        function updateCounter() {
            const slides = slideshow.querySelectorAll('.slide');
            counter.textContent = `${currentSlide + 1} / ${slides.length}`;
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                changeSlide(-1);
            } else if (e.key === 'ArrowRight') {
                changeSlide(1);
            }
        });

        // Touch/swipe support for mobile
        let touchStartX = 0;
        let touchEndX = 0;

        slideshow.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        });

        slideshow.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            if (touchEndX < touchStartX - 50) {
                changeSlide(1); // Swipe left = next
            }
            if (touchEndX > touchStartX + 50) {
                changeSlide(-1); // Swipe right = previous
            }
        }

        // Initialize slideshow
        generateSlides();
    </script>
</body>
</html>